## Цели проектируемой ML-антифрод-системы
1.	Обеспечение конкурентоспособного уровня защиты от мошенничества  
Система должна обеспечивать уровень фрод-потерь не хуже рыночного бенчмарка:
- не более 2 мошеннических транзакций на 100 обработанных;
- общий ущерб от мошенничества не более 500 000 рублей в месяц.
2.	Ограничение доли ложных срабатываний  
Доля корректных транзакций, ошибочно классифицированных как мошеннические (false positive rate), не должна превышать 5%, чтобы избежать оттока клиентов и ухудшения пользовательского опыта.
3.	Поддержка требуемой производительности в пиковые нагрузки  
Система должна обрабатывать до 400 транзакций в секунду с задержкой принятия решения не более 200 мс на транзакцию, чтобы обеспечить бесперебойную работу в периоды высокой нагрузки (праздники, распродажи и т.п.).
4.	Размещение и эксплуатация в облачной инфраструктуре  
Весь модуль антифрода должен быть развернут и функционировать исключительно в облачной инфраструктуре, без использования собственных вычислительных ресурсов заказчика.
5.	Обеспечение конфиденциальности и защиты персональных данных  
Все данные, включая персональную информацию клиентов, должны обрабатываться в соответствии с требованиями законодательства (ФЗ 152, GDPR при необходимости).
Реализовать:
- шифрование данных при передаче и хранении;
- строгий контроль доступа к данным и моделям;
- запрет на выгрузку или копирование исходных CSV-файлов за пределы защищённой облачной среды.
6.	Совместимость с существующим форматом данных  
Система должна принимать на вход CSV-файлы с транзакциями, автоматически извлекать признаки и принимать решения без необходимости изменения формата источника данных.
7.	Демонстрация измеримых результатов в течение 3 месяцев  
К концу третьего месяца проекта должна быть представлена рабочая MVP-версия системы, способная:
- обрабатывать реальные транзакции в тестовом или пилотном режиме;
- продемонстрировать соответствие целям по уровню фрода и ложных срабатываний на исторических или симулированных данных;
- обеспечить основу для принятия решения о продолжении проекта.
8.	Завершение проекта в срок — в течение 6 месяцев с начала работ  
При положительном решении после MVP-этапа система должна быть полностью развернута, протестирована и передана в эксплуатацию в течение 6 месяцев с даты старта проекта.
9.	Соблюдение бюджетных ограничений  
Общие затраты на разработку, развертывание и настройку системы (включая облачные ресурсы, лицензии, сторонние сервисы) не должны превышать 10 млн рублей.

## Выбор метрики машинного обучения, оптимизация которой позволит достичь поставленных целей.  
Анализ задачи  
Антифрод — это задача бинарной классификации с сильной несбалансированностью классов: доля мошеннических транзакций обычно составляет менее 1%. В таких условиях:
Accuracy неприменима (модель может просто помечать всё как «не фрод» и получить >99% accuracy);  
Precision и Recall важны, но в разных аспектах:  
- Recall (чувствительность) — доля реально выявленных мошеннических транзакций. Высокий recall снижает ущерб.
- Precision — доля действительно мошеннических среди отклонённых. Низкая precision → много ложных срабатываний → отток клиентов.  
Заказчик жёстко ограничивает долю ложных срабатываний ≤ 5%, то есть False Positive Rate (FPR) ≤ 0.05.  
При этом требуется минимизировать финансовый ущерб, что связано с пропущенными фродовыми транзакциями (False Negatives).  
________________________________________
Рекомендуемая метрика: Fβ-мера с β < 1  
(например, F0.5-мера)  
Почему?  
- Fβ-мера обобщает Precision и Recall:  
Fβ=(1+β2)⋅β2⋅Precision+RecallPrecision⋅Recall
- При β < 1 (например, β = 0.5) больший вес придаётся Precision, что соответствует требованию ограничить ложные срабатывания.
- Это позволяет явно оптимизировать компромисс между ущербом от пропущенного фрода и раздражением легитимных клиентов.
F0.5-мера — хороший компромисс: штрафует за низкую точность (много ложных срабатываний), но всё ещё учитывает способность находить фрод.  
Итог  
Основная метрика для оптимизации модели: F0.5-мера (или другая Fβ-мера с β ≈ 0.3–0.7, подобранная под баланс стоимости FP/FN).  
Контрольные ограничения:   
- FPR ≤ 0.05;
- Месячный ущерб ≤ 500 000 ₽;
- Не более 2 фрод-транзакций на 100.

Дополнительно: мониторинг ключевых показателей  
В процессе обучения и эксплуатации необходимо отслеживать:  
- False Positive Rate (FPR) — должен быть ≤ 0.05;
- Recall (TPR) — чем выше, тем меньше ущерб;
- Суммарный ущерб на валидационных/тестовых данных — главный бизнес-KPI;
- Throughput и latency — для соблюдения требований производительности (400 транз./сек, <200 мс).


